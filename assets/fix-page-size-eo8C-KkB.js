import{n as p,j as D,d as C,f as k,c as F,i as M}from"./main-Dzxg2eZZ.js";import"./mobileMenu-CQFcDk7p.js";import"./full-width-CrKHpSp0.js";import"./simple-mode-footer-rW7ABm1-.js";import{g as T,P as L,r as A}from"./PDFButton-_8Cap8jz.js";import"./index-DMQTJy3b.js";const l={file:null};function x(){l.file=null;const n=document.getElementById("file-display-area");n&&(n.innerHTML="");const t=document.getElementById("tool-options");t&&t.classList.add("hidden");const i=document.getElementById("file-input");i&&(i.value="")}async function H(){const n=document.getElementById("file-display-area"),t=document.getElementById("tool-options");if(n)if(n.innerHTML="",l.file){const i=document.createElement("div");i.className="flex items-center justify-between bg-gray-700 p-3 rounded-lg text-sm";const s=document.createElement("div");s.className="flex flex-col overflow-hidden";const o=document.createElement("div");o.className="truncate font-medium text-gray-200 text-sm mb-1",o.textContent=l.file.name;const c=document.createElement("div");c.className="text-xs text-gray-400",c.textContent=k(l.file.size),s.append(o,c);const e=document.createElement("button");e.className="ml-4 text-red-400 hover:text-red-300 flex-shrink-0",e.innerHTML='<i data-lucide="trash-2" class="w-4 h-4"></i>',e.onclick=function(){x()},i.append(s,e),n.appendChild(i),F({icons:M}),t&&t.classList.remove("hidden")}else t&&t.classList.add("hidden")}function I(n){if(n&&n.length>0){const t=n[0];(t.type==="application/pdf"||t.name.toLowerCase().endsWith(".pdf"))&&(l.file=t,H())}}async function N(){if(!l.file){p("No File","Please upload a PDF file first.");return}const n=document.getElementById("target-size").value,t=document.getElementById("orientation").value,i=document.querySelector('input[name="scaling-mode"]:checked').value,s=D(document.getElementById("background-color").value),o=document.getElementById("loader-modal"),c=document.getElementById("loader-text");o&&o.classList.remove("hidden"),c&&(c.textContent="Standardizing pages...");try{let e,a;if(n==="Custom"){const r=parseFloat(document.getElementById("custom-width").value),m=parseFloat(document.getElementById("custom-height").value);document.getElementById("custom-units").value==="in"?(e=r*72,a=m*72):(e=r*(72/25.4),a=m*(72/25.4))}else[e,a]=T[n];t==="landscape"&&e<a?[e,a]=[a,e]:t==="portrait"&&e>a&&([e,a]=[a,e]);const f=await l.file.arrayBuffer(),d=await L.load(f),u=await L.create();for(const r of d.getPages()){const{width:m,height:g}=r.getSize(),z=await u.embedPage(r),h=u.addPage([e,a]);h.drawRectangle({x:0,y:0,width:e,height:a,color:A(s.r,s.g,s.b)});const y=e/m,v=a/g,E=i==="fit"?Math.min(y,v):Math.max(y,v),w=m*E,B=g*E,P=(e-w)/2,S=(a-B)/2;h.drawPage(z,{x:P,y:S,width:w,height:B})}const b=await u.save();C(new Blob([new Uint8Array(b)],{type:"application/pdf"}),"standardized.pdf"),p("Success","Page sizes standardized successfully!","success",()=>{x()})}catch(e){console.error(e),p("Error","An error occurred while standardizing pages.")}finally{o&&o.classList.add("hidden")}}document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("file-input"),t=document.getElementById("drop-zone"),i=document.getElementById("process-btn"),s=document.getElementById("back-to-tools"),o=document.getElementById("target-size"),c=document.getElementById("custom-size-wrapper");s&&s.addEventListener("click",function(){window.location.href="/"}),o&&c&&o.addEventListener("change",function(){c.classList.toggle("hidden",o.value!=="Custom")}),n&&t&&(n.addEventListener("change",function(e){I(e.target.files)}),t.addEventListener("dragover",function(e){e.preventDefault(),t.classList.add("bg-gray-700")}),t.addEventListener("dragleave",function(e){e.preventDefault(),t.classList.remove("bg-gray-700")}),t.addEventListener("drop",function(e){e.preventDefault(),t.classList.remove("bg-gray-700");const a=e.dataTransfer?.files;if(a&&a.length>0){const f=Array.from(a).filter(function(d){return d.type==="application/pdf"||d.name.toLowerCase().endsWith(".pdf")});if(f.length>0){const d=new DataTransfer;d.items.add(f[0]),I(d.files)}}}),n.addEventListener("click",function(){n.value=""})),i&&i.addEventListener("click",N)});
