import{n as d,o as f,d as g,p as v,f as y,c as h,i as E}from"./main-Dzxg2eZZ.js";import"./mobileMenu-CQFcDk7p.js";import"./full-width-CrKHpSp0.js";import"./simple-mode-footer-rW7ABm1-.js";import{J as L}from"./jszip.min-9lSi4Bg2.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";const o={files:[]};function I(){o.files=[];const e=document.getElementById("file-display-area");e&&(e.innerHTML="");const t=document.getElementById("tool-options");t&&t.classList.add("hidden");const n=document.getElementById("file-input");n&&(n.value="")}function u(){const e=document.getElementById("file-display-area"),t=document.getElementById("tool-options");e&&(e.innerHTML="",o.files.length>0?(o.files.forEach(function(n,a){const i=document.createElement("div");i.className="flex items-center justify-between bg-gray-700 p-3 rounded-lg text-sm";const c=document.createElement("div");c.className="flex flex-col overflow-hidden";const l=document.createElement("div");l.className="truncate font-medium text-gray-200 text-sm mb-1",l.textContent=n.name;const r=document.createElement("div");r.className="text-xs text-gray-400",r.textContent=y(n.size),c.append(l,r);const s=document.createElement("button");s.className="ml-4 text-red-400 hover:text-red-300 flex-shrink-0",s.innerHTML='<i data-lucide="trash-2" class="w-4 h-4"></i>',s.onclick=function(){o.files=o.files.filter(function(x,p){return p!==a}),u()},i.append(c,s),e.appendChild(i)}),h({icons:E}),t&&t.classList.remove("hidden")):t&&t.classList.add("hidden"))}async function B(){if(o.files.length===0){d("No Files","Please select PDF files to create a ZIP archive.");return}f("Creating ZIP archive...");try{const e=new L;for(let n=0;n<o.files.length;n++){const a=o.files[n];f(`Adding ${a.name} (${n+1}/${o.files.length})...`);const i=await a.arrayBuffer();e.file(a.name,i)}f("Generating ZIP file...");const t=await e.generateAsync({type:"blob"});g(t,"pdfs_archive.zip"),d("Success","ZIP archive created successfully!","success",function(){I()})}catch(e){console.error(e),d("Error","Could not create ZIP archive.")}finally{v()}}function m(e){if(e&&e.length>0){const t=Array.from(e).filter(function(n){return n.type==="application/pdf"||n.name.toLowerCase().endsWith(".pdf")});t.length>0&&(o.files=[...o.files,...t],u())}}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("file-input"),t=document.getElementById("drop-zone"),n=document.getElementById("process-btn"),a=document.getElementById("back-to-tools");a&&a.addEventListener("click",function(){window.location.href="/"}),e&&t&&(e.addEventListener("change",function(i){m(i.target.files)}),t.addEventListener("dragover",function(i){i.preventDefault(),t.classList.add("bg-gray-700")}),t.addEventListener("dragleave",function(i){i.preventDefault(),t.classList.remove("bg-gray-700")}),t.addEventListener("drop",function(i){i.preventDefault(),t.classList.remove("bg-gray-700"),m(i.dataTransfer?.files||null)}),e.addEventListener("click",function(){e.value=""})),n&&n.addEventListener("click",B)});
